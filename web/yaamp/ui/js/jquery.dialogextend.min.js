!function(i){var e,t={maximize:!1,minimize:!1,dblclick:!1,titlebar:!1,icons:{maximize:"ui-icon-extlink",minimize:"ui-icon-minus",restore:"ui-icon-newwin"},events:{load:null,beforeCollapse:null,beforeMaximize:null,beforeMinimize:null,beforeRestore:null,collapse:null,maximize:null,minimize:null,restore:null}},a={init:function(a){var o=this;return i(o).dialog||i.error("jQuery.dialogExtend Error : Only jQuery UI Dialog element is accepted"),a=a||{},a.icons=a.icons||{},a.events=a.events||{},e=i.extend({},t,a),e.icons=i.extend({},t.icons,a.icons),e.events=i.extend({},t.events,a.events),i(o).each(function(){i(this).data("dialog-state","normal").dialogExtend("_verifySettings").dialogExtend("_initEvents").dialogExtend("_initStyles").dialogExtend("_initButtons").dialogExtend("_initTitleBar").dialogExtend("_trigger","load")}),o},collapse:function(){var e=this,t=i(this).dialog("widget").find(".ui-dialog-titlebar").height()+15;return i(e).dialogExtend("_trigger","beforeCollapse").dialogExtend("_saveSnapshot").data("dialog-state","collapsed").dialog("option",{height:t,maxHeight:t}).hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content").dialogExtend("_trigger","collapse"),e},maximize:function(){var e=this,t=i(window).height()-11,a=i(window).width()-11;return i(e).dialogExtend("_trigger","beforeMaximize").dialogExtend("_saveSnapshot").data("dialog-state","maximized").dialogExtend("_toggleButtons").dialog("widget").css("position","fixed").find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane").show().end().find(".ui-dialog-content").dialog("option",{resizable:!1,draggable:!1,height:t,width:a,position:[1,1]}).dialog("widget").find(".ui-dialog-draggable-handle").css("cursor","text").end().find(".ui-dialog-content").dialogExtend("_trigger","maximize"),e},minimize:function(){var e=this,t="#minimized-dialog-container",a=i(this).dialog("widget").find(".ui-dialog-titlebar").height()+15;return i(t).length||i("<div />").attr("id",t.replace("#","")).css({left:1,bottom:1,position:"fixed"}).appendTo("body"),i(e).dialogExtend("_trigger","beforeMinimize").dialogExtend("_saveSnapshot").data("dialog-state","minimized").dialogExtend("_toggleButtons").dialog("widget").css({float:"left",margin:1,position:"static"}).appendTo(t).find(".ui-dialog-content").dialog("option",{resizable:!1,draggable:!1,height:a,width:200}).hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content").dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end().find(".ui-dialog-content").dialogExtend("_trigger","minimize"),e},restore:function(){var e=this,t=i(e).data("dialog-state");return i(e).dialogExtend("_trigger","beforeRestore").data("dialog-state","normal").dialogExtend("_toggleButtons").dialogExtend("maximized"==t?"_restoreFromMaximized":"minimized"==t?"_restoreFromMinimized":"collapsed"==t?"_restoreFromCollapsed":i.error("jQuery.dialogExtend Error : Cannot restore dialog from unknown state '"+t+"'")).dialogExtend("_trigger","restore"),e},_initButtons:function(){var t=this,a=i(t).dialog("widget").find(".ui-dialog-titlebar");return i(a).append('<a class="ui-dialog-titlebar-maximize ui-corner-all" href="#"><span class="ui-icon '+e.icons.maximize+'">maximize</span></a>').append('<a class="ui-dialog-titlebar-minimize ui-corner-all" href="#"><span class="ui-icon '+e.icons.minimize+'">minimize</span></a>').append('<a class="ui-dialog-titlebar-restore ui-corner-all" href="#"><span class="ui-icon '+e.icons.restore+'">restore</span></a>').find(".ui-dialog-titlebar-maximize,.ui-dialog-titlebar-minimize,.ui-dialog-titlebar-restore").attr("role","button").mouseover(function(){i(this).addClass("ui-state-hover")}).mouseout(function(){i(this).removeClass("ui-state-hover")}).focus(function(){i(this).addClass("ui-state-focus")}).blur(function(){i(this).removeClass("ui-state-focus")}).end().find(".ui-dialog-titlebar-maximize").toggle(e.maximize).css({right:e.maximize?"1.4em":"-9999em"}).click(function(e){e.preventDefault(),i(t).dialogExtend("maximize")}).end().find(".ui-dialog-titlebar-minimize").toggle(e.minimize).css({right:e.maximize?"2.5em":e.minimize?"1.4em":"-9999em"}).click(function(e){e.preventDefault(),i(t).dialogExtend("minimize")}).end().find(".ui-dialog-titlebar-restore").hide().css({right:"-9999em"}).click(function(e){e.preventDefault(),i(t).dialogExtend("restore")}).end().dblclick(function(a){e.dblclick&&e.dblclick.length&&i(t).dialogExtend("normal"!=i(t).data("dialog-state")?"restore":e.dblclick)}).each(function(){i(this).select(function(){return!1})}),t},_initEvents:function(){var t=this;return i.each(e.events,function(a){i.isFunction(e.events[a])&&i(t).bind(a+".dialogExtend",e.events[a])}),t},_initStyles:function(){var e=this,t="";return t+='<style type="text/css">',t+=".ui-dialog .ui-dialog-titlebar-maximize,",t+=".ui-dialog .ui-dialog-titlebar-minimize,",t+=".ui-dialog .ui-dialog-titlebar-restore { position: absolute; top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height: 18px; }",t+=".ui-dialog .ui-dialog-titlebar-maximize span,",t+=".ui-dialog .ui-dialog-titlebar-minimize span,",t+=".ui-dialog .ui-dialog-titlebar-restore span { display: block; margin: 1px; }",t+=".ui-dialog .ui-dialog-titlebar-maximize:hover,",t+=".ui-dialog .ui-dialog-titlebar-maximize:focus,",t+=".ui-dialog .ui-dialog-titlebar-minimize:hover,",t+=".ui-dialog .ui-dialog-titlebar-minimize:focus,",t+=".ui-dialog .ui-dialog-titlebar-restore:hover,",t+=".ui-dialog .ui-dialog-titlebar-restore:focus { padding: 0; }",t+=".ui-dialog .ui-dialog-titlebar ::selection { background-color: transparent; }",t+="</style>",i(t).appendTo("body"),e},_initTitleBar:function(){var t=this;switch(e.titlebar){case!1:break;case"none":if(i(t).dialog("option","draggable")){var a=i("<div />").addClass("ui-dialog-draggable-handle").css("cursor","move").height(5);i(t).dialog("widget").prepend(a).draggable("option","handle",a)}i(t).dialog("widget").find(".ui-dialog-titlebar").find(".ui-dialog-title").html("&nbsp;").end().css({"background-color":"transparent","background-image":"none",border:0,position:"absolute",right:0,top:0,"z-index":9999}).end();break;case"transparent":i(t).dialog("widget").find(".ui-dialog-titlebar").css({"background-color":"transparent","background-image":"none",border:0});break;default:i.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+e.titlebar+"'")}return t},_loadSnapshot:function(){var e=this;return{config:{resizable:i(e).data("original-config-resizable"),draggable:i(e).data("original-config-draggable")},size:{height:i(e).data("original-size-height"),width:i(e).data("original-size-width"),maxHeight:i(e).data("original-size-maxHeight")},position:{mode:i(e).data("original-position-mode"),left:i(e).data("original-position-left"),top:i(e).data("original-position-top")},titlebar:{wrap:i(e).data("original-titlebar-wrap")}}},_restoreFromCollapsed:function(){var e=this,t=i(this).dialogExtend("_loadSnapshot");return i(e).show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{height:t.size.height,maxHeight:t.size.maxHeight}),e},_restoreFromMaximized:function(){var e=this,t=i(this).dialogExtend("_loadSnapshot");return i(e).dialog("widget").css("position",t.position.mode).find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,draggable:t.config.draggable,height:t.size.height,width:t.size.width,maxHeight:t.size.maxHeight,position:[t.position.left,t.position.top]}).dialog("widget").draggable("option","handle",i(this).find(".ui-dialog-draggable-handle")).find(".ui-dialog-draggable-handle").css("cursor","move"),e},_restoreFromMinimized:function(){var e=this,t=i(this).dialogExtend("_loadSnapshot");return i(e).dialog("widget").appendTo("body").css({float:"none",margin:0,position:t.position.mode}).find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,draggable:t.config.draggable,height:t.size.height,width:t.size.width,maxHeight:t.size.maxHeight,position:[t.position.left,t.position.top]}).dialog("widget").draggable("option","handle",i(this).find(".ui-dialog-draggable-handle")).find(".ui-dialog-draggable-handle").css("cursor","move"),e},_saveSnapshot:function(){var e=this;return"normal"==i(e).data("dialog-state")&&i(e).data("original-config-resizable",i(e).dialog("option","resizable")).data("original-config-draggable",i(e).dialog("option","draggable")).data("original-size-height",i(e).dialog("widget").height()).data("original-size-width",i(e).dialog("option","width")).data("original-size-maxHeight",i(e).dialog("option","maxHeight")).data("original-position-mode",i(e).dialog("widget").css("position")).data("original-position-left",i(e).dialog("widget").offset().left).data("original-position-top",i(e).dialog("widget").offset().top).data("original-titlebar-wrap",i(e).dialog("widget").find(".ui-dialog-titlebar").css("white-space")),e},_toggleButtons:function(){var t=this;return i(t).dialog("widget").find(".ui-dialog-titlebar-maximize").toggle("maximized"!=i(t).data("dialog-state")&&e.maximize).end().find(".ui-dialog-titlebar-minimize").toggle("minimized"!=i(t).data("dialog-state")&&e.minimize).end().find(".ui-dialog-titlebar-restore").toggle("normal"!=i(t).data("dialog-state")&&(e.maximize||e.minimize)).css({right:"maximized"==i(t).data("dialog-state")?"1.4em":"minimized"==i(t).data("dialog-state")?e.maximize?"2.5em":"1.4em":"-9999em"}).end(),t},_trigger:function(e){var t=this;return i(t).triggerHandler(e+".dialogExtend",this),t},_verifySettings:function(){var t=this;return e.dblclick&&("maximize"==e.dblclick||"minimize"==e.dblclick||"collapse"==e.dblclick||(i.error("jQuery.dialogExtend Error : Invalid <dblclick> value '"+e.dblclick+"'"),e.dblclick=!1)),e.titlebar&&("none"==e.titlebar||"transparent"==e.titlebar||(i.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+e.titlebar+"'"),e.titlebar=!1)),t}};i.fn.dialogExtend=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void i.error("jQuery.dialogExtend Error : Method <"+e+"> does not exist"):a.init.apply(this,arguments)}}(jQuery);